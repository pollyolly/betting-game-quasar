import{r as a,x as T,y as k,z as i,B as l,L as V,C as y,M as m,U as _,V as $,D as ee,k as z,K as N,J as te,Q as le,n as oe,W as ne}from"./index-DOwxornU.js";import{Q as A,a as H,b as p,c as W,d as F,C as P,e as q,f as ie,g as J,h as re,i as ae}from"./ClosePopup-BTR-46Wm.js";import{Q as se}from"./QInput-H71_EgFm.js";import{g as O,Q as M}from"./QItem-CRwAJlcr.js";import{Q as I}from"./QCard-CIQwrVYI.js";import{_ as E}from"./_plugin-vue_export-helper-I8A-dJLI.js";import"./selection-DB1EZwcl.js";const v=[];for(let n=0;n<1e5;n++){let t=n.toString();v.push(t.padStart(8,"0"))}const D=[];for(let n=0;n<1e5;n++)D.push("User"+n);const de=["Win","Lose"],ue=["Meron","Wala"],me={setup(){const n=a(D),t=a(v),d=a(""),e=a(""),u=a("");return{onSubmit:()=>{_.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeAddForm",!1,"submit")},onCancel:()=>{_.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeAddForm",!1,"cancel")},fightnumber:d,matchresult:e,fightside:u,fightnumberOption:t,fighterOption:n,matchOptions:de,fightsideOptions:ue,fighternumberFilterFn(f,g){setTimeout(()=>{g(()=>{if(f==="")t.value=v;else{const o=f.toLowerCase();t.value=v.filter(s=>s.toLowerCase().indexOf(o)>-1)}})},1500)},fighternumberAbortFilterFn(){},fighterFilterFn(f,g){setTimeout(()=>{g(()=>{if(f==="")n.value=D;else{const o=f.toLowerCase();n.value=D.filter(s=>s.toLowerCase().indexOf(o)>-1)}})},1500)},fighterAbortFilterFn(){}}}};function ce(n,t,d,e,u,c){return k(),T(I,{style:{"min-width":"350px"}},{default:i(()=>[l(A,null,{default:i(()=>[...t[4]||(t[4]=[V("div",{class:"text-h6"},"Match",-1)])]),_:1}),l(H,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:i(()=>[l(A,{class:"q-pt-none"},{default:i(()=>[l(p,{modelValue:e.fightnumber,"onUpdate:modelValue":t[0]||(t[0]=r=>e.fightnumber=r),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Fight Number",options:e.fightnumberOption,onFilter:e.fighternumberFilterFn,onFilterAbort:e.fighternumberAbortFilterFn},{"no-option":i(()=>[l(O,null,{default:i(()=>[l(M,{class:"text-grey"},{default:i(()=>[...t[5]||(t[5]=[y(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(p,{modelValue:n.fighter,"onUpdate:modelValue":t[1]||(t[1]=r=>n.fighter=r),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Fighter",options:e.fighterOption,onFilter:e.fighterFilterFn,onFilterAbort:e.fighterAbortFilterFn},{"no-option":i(()=>[l(O,null,{default:i(()=>[l(M,{class:"text-grey"},{default:i(()=>[...t[6]||(t[6]=[y(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(p,{"use-input":"","hide-selected":"","fill-input":"",modelValue:e.fightside,"onUpdate:modelValue":t[2]||(t[2]=r=>e.fightside=r),options:e.fightsideOptions,label:"Fight Side"},null,8,["modelValue","options"]),l(p,{"use-input":"","hide-selected":"","fill-input":"",modelValue:e.matchresult,"onUpdate:modelValue":t[3]||(t[3]=r=>e.matchresult=r),options:e.matchOptions,label:"Match Result"},null,8,["modelValue","options"])]),_:1}),l(W,{align:"right",class:"text-primary"},{default:i(()=>[l(m,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(m,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const fe=E(me,[["render",ce]]),S=[];for(let n=0;n<1e5;n++){let t=n.toString();S.push(t.padStart(8,"0"))}const x=[];for(let n=0;n<1e5;n++)x.push("User"+n);const he=["Win","Lose"],pe=["Meron","Wala"],ge={props:{propsEditData:{type:Object,required:!1}},setup(n){const t=a(x),d=a(S),e=a(n.propsEditData.fightnumber),u=a(n.propsEditData.fighter),c=a(n.propsEditData.matchresult),r=a(n.propsEditData.fightside);return{onSubmit:()=>{_.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeEditForm",!1,"submit")},onCancel:()=>{_.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeEditForm",!1,"cancel")},fightnumber:e,fighter:u,matchresult:c,fightside:r,fightnumberOption:d,fighterOption:t,matchOptions:he,fightsideOptions:pe,fighternumberFilterFn(o,s){setTimeout(()=>{s(()=>{if(o==="")d.value=S;else{const h=o.toLowerCase();d.value=S.filter(w=>w.toLowerCase().indexOf(h)>-1)}})},1500)},fighternumberAbortFilterFn(){},fighterFilterFn(o,s){setTimeout(()=>{s(()=>{if(o==="")t.value=x;else{const h=o.toLowerCase();t.value=x.filter(w=>w.toLowerCase().indexOf(h)>-1)}})},1500)},fighterAbortFilterFn(){}}}};function be(n,t,d,e,u,c){return k(),T(I,{style:{"min-width":"350px"}},{default:i(()=>[l(A,null,{default:i(()=>[...t[4]||(t[4]=[V("div",{class:"text-h6"},"Match",-1)])]),_:1}),l(H,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:i(()=>[l(A,{class:"q-pt-none"},{default:i(()=>[l(p,{modelValue:e.fightnumber,"onUpdate:modelValue":t[0]||(t[0]=r=>e.fightnumber=r),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Fight Number",options:e.fightnumberOption,onFilter:e.fighternumberFilterFn,onFilterAbort:e.fighternumberAbortFilterFn},{"no-option":i(()=>[l(O,null,{default:i(()=>[l(M,{class:"text-grey"},{default:i(()=>[...t[5]||(t[5]=[y(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(p,{modelValue:e.fighter,"onUpdate:modelValue":t[1]||(t[1]=r=>e.fighter=r),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Fighter",options:e.fighterOption,onFilter:e.fighterFilterFn,onFilterAbort:e.fighterAbortFilterFn},{"no-option":i(()=>[l(O,null,{default:i(()=>[l(M,{class:"text-grey"},{default:i(()=>[...t[6]||(t[6]=[y(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(p,{"use-input":"","hide-selected":"","fill-input":"",modelValue:e.fightside,"onUpdate:modelValue":t[2]||(t[2]=r=>e.fightside=r),options:e.fightsideOptions,label:"Fight Side"},null,8,["modelValue","options"]),l(p,{"use-input":"","hide-selected":"","fill-input":"",modelValue:e.matchresult,"onUpdate:modelValue":t[3]||(t[3]=r=>e.matchresult=r),options:e.matchOptions,label:"Match Result"},null,8,["modelValue","options"])]),_:1}),l(W,{align:"right",class:"text-primary"},{default:i(()=>[l(m,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(m,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const Fe=E(ge,[["render",be]]),we={props:{propsDeleteData:{type:Object,required:!1}},mounted(){},setup(){return{}}},Ve={class:"q-ml-sm"};function Ae(n,t,d,e,u,c){return k(),T(I,null,{default:i(()=>[l(A,{class:"row items-center"},{default:i(()=>[l($,{icon:"cancel",color:"negative","text-color":"white"}),V("span",Ve,"You are deleting Fight Number: "+ee(d.propsDeleteData.fightnumber)+".",1)]),_:1}),l(W,{align:"right"},{default:i(()=>[z(l(m,{flat:"",label:"Cancel",color:"primary"},null,512),[[P]]),z(l(m,{flat:"",label:"Delete",color:"negative"},null,512),[[P]])]),_:1})]),_:1})}const Ce=E(we,[["render",Ae]]),ve=[{name:"fightnumber",align:"center",label:"Fight Number",field:"fightnumber",sortable:!0},{name:"fighter",label:"Fighter",field:"fighter",sortable:!0},{name:"fightside",label:"Fight Side",field:"fightside",sortable:!0},{name:"matchresult",label:"Match Result",field:"matchresult",sortable:!0},{name:"createddate",label:"Created Date",field:"createddate",sortable:!0},{name:"updateddate",label:"Updated Date",field:"updateddate",sortable:!0},{name:"action",label:"Action",field:"action",sortable:!0}],De=[{fightnumber:"0000000001",fighter:"Malakas009",fightside:"Meron",matchresult:"Win",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{fightnumber:"0000000001",fighter:"Megalodon234",fightside:"Wala",matchresult:"Lose",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{fightnumber:"0000000002",fighter:"Bunny123",fightside:"Meron",matchresult:"",createddate:"2026/01/08",updateddate:"2026/01/04",action:""}],Y=a(!1),B=a(!1),G=a(!1),Se=a(null),xe={components:{AdminMatchFormDelete:Ce,AdminMatchFormAdd:fe,AdminMatchFormEdit:Fe},mounted(){F.on("closeEditForm",(n,t)=>{B.value=n,console.log("Event Bus",n)}),F.on("closeAddForm",(n,t)=>{Y.value=n,console.log("Event Bus",n)})},setup(){const n=a(!1),t=a(),d=a([]),e=a(""),u=a({}),c=a({});let r;return{deleteSelect:Se,showAddForm:Y,showEditForm:B,showDeleteForm:G,propsEditData:u,propsDeleteData:c,editRow:o=>{u.value.fightnumber=o.fightnumber,u.value.fighter=o.fighter,u.value.fightside=o.fightside,u.value.matchresult=o.matchresult,B.value=!0},deleteRow:o=>{c.value.fightnumber=o.fightnumber,G.value=!0},loading:n,tableRef:t,selected:d,columns:ve,rows:De,filter:e,handleSelection({rows:o,added:s,evt:h}){if(o.length!==1||h===void 0)return;const w=r,[Q]=o,{ctrlKey:X,shiftKey:K,metaKey:Z}=h;K!==!0&&(r=Q),oe(()=>{if(K===!0){const U=t.value.filteredSortedRows;let b=U.indexOf(w),C=U.indexOf(Q);b<0&&(b=0),b>C&&([b,C]=[C,b]);const j=U.slice(b,C+1),R=d.value.map(ne);d.value=s===!0?R.concat(j.filter(L=>R.includes(L)===!1)):R.filter(L=>j.includes(L)===!1)}else(X||Z)!==!0&&s===!0&&(d.value=[Q])})}}}},ye={class:"flex"},_e={class:"q-pa-sm"},Oe={class:"q-pa-sm",style:{width:"100%"}};function Me(n,t,d,e,u,c){const r=N("AdminMatchFormEdit"),f=N("AdminMatchFormAdd"),g=N("AdminMatchFormDelete");return k(),te("div",ye,[V("div",_e,[l(m,{label:"Add Match",color:"primary",onClick:t[0]||(t[0]=o=>e.showAddForm=!0)})]),l(q,{modelValue:e.showEditForm,"onUpdate:modelValue":t[1]||(t[1]=o=>e.showEditForm=o),persistent:"",maximize:"true"},{default:i(()=>[l(r,{propsEditData:e.propsEditData},null,8,["propsEditData"])]),_:1},8,["modelValue"]),l(q,{modelValue:e.showAddForm,"onUpdate:modelValue":t[2]||(t[2]=o=>e.showAddForm=o),persistent:""},{default:i(()=>[l(f)]),_:1},8,["modelValue"]),l(q,{modelValue:e.showDeleteForm,"onUpdate:modelValue":t[3]||(t[3]=o=>e.showDeleteForm=o),persistent:""},{default:i(()=>[l(g,{propsDeleteData:e.propsDeleteData},null,8,["propsDeleteData"])]),_:1},8,["modelValue"]),V("div",Oe,[l(ae,{flat:"",bordered:"",ref:"tableRef",title:"Match List",rows:e.rows,columns:e.columns,loading:e.loading,filter:e.filter,"row-key":"fightnumber",selection:"multiple",selected:e.selected,"onUpdate:selected":t[5]||(t[5]=o=>e.selected=o),onSelection:e.handleSelection},{top:i(()=>[l(m,{color:"negative",disable:e.loading,label:"Delete",onClick:e.deleteSelect},null,8,["disable","onClick"]),l(re),l(se,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[4]||(t[4]=o=>e.filter=o),placeholder:"Search"},{append:i(()=>[l(le,{name:"search"})]),_:1},8,["modelValue"])]),"header-selection":i(o=>[l(J,{modelValue:o.selected,"onUpdate:modelValue":s=>o.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":i(o=>[l(J,{"model-value":o.selected,"onUpdate:modelValue":(s,h)=>{Object.getOwnPropertyDescriptor(o,"selected").set(s,h)}},null,8,["model-value","onUpdate:modelValue"])]),"body-cell-action":i(o=>[l(ie,{props:o},{default:i(()=>[l(m,{dense:"",round:"",flat:"",icon:"edit",onClick:s=>e.editRow(o.row),color:"primary",class:"q-ml-sm"},null,8,["onClick"]),l(m,{dense:"",round:"",flat:"",icon:"delete",onClick:s=>e.deleteRow(o.row),color:"negative",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter","selected","onSelection"])])])}const qe=E(xe,[["render",Me]]);export{qe as default};
