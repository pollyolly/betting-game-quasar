import{r,x as q,y as S,z as a,B as l,L as g,C as J,M as c,U as A,V as $,D as ee,k as T,K as O,J as te,Q as le,n as oe,W as ae}from"./index-DOwxornU.js";import{Q as v,a as M,b as _,c as I,d as F,C as P,e as R,f as K,g as W,h as se,i as ne}from"./ClosePopup-BTR-46Wm.js";import{Q as D}from"./QInput-H71_EgFm.js";import{g as Y,Q as G}from"./QItem-CRwAJlcr.js";import{Q as B}from"./QCard-CIQwrVYI.js";import{_ as x}from"./_plugin-vue_export-helper-I8A-dJLI.js";import"./selection-DB1EZwcl.js";const C=[];for(let s=0;s<1e5;s++)C.push("User"+s);console.log(C);const re=["Active","Inactive","Pending"],de={setup(){const s=r(C),t=r(""),d=r(""),e=r(""),i=r("");return{onSubmit:()=>{A.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeAddForm",!1,"submit")},onCancel:()=>{A.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeAddForm",!1,"cancel")},wallet:t,credit:d,status:e,users:i,statusOption:re,usersOption:s,userFilterFn(f,p){setTimeout(()=>{p(()=>{if(f==="")s.value=C;else{const o=f.toLowerCase();s.value=C.filter(u=>u.toLowerCase().indexOf(o)>-1)}})},1500)},userAbortFilterFn(){}}}};function ie(s,t,d,e,i,m){return S(),q(B,{style:{"min-width":"350px"}},{default:a(()=>[l(v,null,{default:a(()=>[...t[4]||(t[4]=[g("div",{class:"text-h6"},"Credit",-1)])]),_:1}),l(M,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:a(()=>[l(v,{class:"q-pt-none"},{default:a(()=>[l(_,{modelValue:e.users,"onUpdate:modelValue":t[0]||(t[0]=n=>e.users=n),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Users",options:e.usersOption,onFilter:e.userFilterFn,onFilterAbort:e.userAbortFilterFn},{"no-option":a(()=>[l(Y,null,{default:a(()=>[l(G,{class:"text-grey"},{default:a(()=>[...t[5]||(t[5]=[J(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(D,{modelValue:e.wallet,"onUpdate:modelValue":t[1]||(t[1]=n=>e.wallet=n),"filled-input":"",label:"Wallet",type:"number"},null,8,["modelValue"]),l(D,{modelValue:e.credit,"onUpdate:modelValue":t[2]||(t[2]=n=>e.credit=n),"filled-input":"",label:"Credit",type:"number"},null,8,["modelValue"]),l(_,{modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=n=>e.status=n),"hide-selected":"","use-input":"","fill-input":"",options:e.statusOption,label:"Status"},null,8,["modelValue","options"])]),_:1}),l(I,{align:"right",class:"text-primary"},{default:a(()=>[l(c,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(c,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const ue=x(de,[["render",ie]]),V=[];for(let s=0;s<1e5;s++)V.push("User"+s);console.log(V);const ce=["Active","Inactive","Pending"],me={props:{propsEditData:{type:Object,required:!1}},setup(s){const t=r(V),d=r(s.propsEditData.wallet),e=r(s.propsEditData.credit),i=r(s.propsEditData.status),m=r(s.propsEditData.user);return{onSubmit:()=>{A.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeEditForm",!1,"submit")},onCancel:()=>{A.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeEditForm",!1,"cancel")},wallet:d,credit:e,status:i,users:m,statusOption:ce,usersOption:t,userFilterFn(p,o){setTimeout(()=>{o(()=>{if(p==="")t.value=V;else{const u=p.toLowerCase();t.value=V.filter(b=>b.toLowerCase().indexOf(u)>-1)}})},1500)},userAbortFilterFn(){}}}};function pe(s,t,d,e,i,m){return S(),q(B,{style:{"min-width":"350px"}},{default:a(()=>[l(v,null,{default:a(()=>[...t[4]||(t[4]=[g("div",{class:"text-h6"},"Credit",-1)])]),_:1}),l(M,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:a(()=>[l(v,{class:"q-pt-none"},{default:a(()=>[l(_,{modelValue:e.users,"onUpdate:modelValue":t[0]||(t[0]=n=>e.users=n),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Users",options:e.usersOption,onFilter:e.userFilterFn,onFilterAbort:e.userAbortFilterFn},{"no-option":a(()=>[l(Y,null,{default:a(()=>[l(G,{class:"text-grey"},{default:a(()=>[...t[5]||(t[5]=[J(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"]),l(D,{modelValue:e.wallet,"onUpdate:modelValue":t[1]||(t[1]=n=>e.wallet=n),"filled-input":"",label:"Wallet",type:"number"},null,8,["modelValue"]),l(D,{modelValue:e.credit,"onUpdate:modelValue":t[2]||(t[2]=n=>e.credit=n),"filled-input":"",label:"Credit",type:"number"},null,8,["modelValue"]),l(_,{modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=n=>e.status=n),"hide-selected":"","use-input":"","fill-input":"",options:e.statusOption,label:"Status"},null,8,["modelValue","options"])]),_:1}),l(I,{align:"right",class:"text-primary"},{default:a(()=>[l(c,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(c,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const fe=x(me,[["render",pe]]),be={props:{propsDeleteData:{type:Object,required:!1}},mounted(){},setup(){return{}}},we={class:"q-ml-sm"};function Fe(s,t,d,e,i,m){return S(),q(B,null,{default:a(()=>[l(v,{class:"row items-center"},{default:a(()=>[l($,{icon:"cancel",color:"negative","text-color":"white"}),g("span",we,"You are deleting User: "+ee(d.propsDeleteData.user)+".",1)]),_:1}),l(I,{align:"right"},{default:a(()=>[T(l(c,{flat:"",label:"Cancel",color:"primary"},null,512),[[P]]),T(l(c,{flat:"",label:"Delete",color:"negative"},null,512),[[P]])]),_:1})]),_:1})}const Ce=x(be,[["render",Fe]]),Ve=[{name:"user",label:"User",field:"user",sortable:!0},{name:"wallet",label:"Wallet",field:"wallet",sortable:!0},{name:"credit",label:"Credit",field:"credit",sortable:!0},{name:"status",label:"Status",field:"status",sortable:!0},{name:"createddate",label:"Created Date",field:"createddate",sortable:!0},{name:"updateddate",label:"Updated Date",field:"updateddate",sortable:!0},{name:"action",label:"Action",field:"action",sortable:!0}],ge=[{user:"User1",wallet:"100",credit:"100",status:"Active",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{user:"User1",wallet:"50",credit:"50",status:"Inactive",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{user:"User3",wallet:"20",credit:"20",status:"Pending",createddate:"2026/01/08",updateddate:"2026/01/04",action:""}],j=r(!1),h=r(!1),z=r(!1),ve=r(null),De={components:{AdminCreditFormDelete:Ce,AdminCreditFormAdd:ue,AdminCreditFormEdit:fe},mounted(){F.on("closeEditForm",(s,t)=>{h.value=s,console.log("Event Bus",s)}),F.on("closeAddForm",(s,t)=>{j.value=s,console.log("Event Bus",s)})},setup(){const s=r(!1),t=r(),d=r([]),e=r(""),i=r({}),m=r({});let n;return{deleteSelect:ve,showAddForm:j,showEditForm:h,showDeleteForm:z,propsEditData:i,propsDeleteData:m,editRow:o=>{i.value.user=o.user,i.value.wallet=o.wallet,i.value.credit=o.credit,i.value.status=o.status,h.value=!0},deleteRow:o=>{m.value.user=o.user,z.value=!0},loading:s,tableRef:t,selected:d,columns:Ve,rows:ge,filter:e,handleSelection({rows:o,added:u,evt:b}){if(o.length!==1||b===void 0)return;const H=n,[U]=o,{ctrlKey:X,shiftKey:L,metaKey:Z}=b;L!==!0&&(n=U),oe(()=>{if(L===!0){const E=t.value.filteredSortedRows;let w=E.indexOf(H),y=E.indexOf(U);w<0&&(w=0),w>y&&([w,y]=[y,w]);const N=E.slice(w,y+1),Q=d.value.map(ae);d.value=u===!0?Q.concat(N.filter(k=>Q.includes(k)===!1)):Q.filter(k=>N.includes(k)===!1)}else(X||Z)!==!0&&u===!0&&(d.value=[U])})}}}},ye={class:"flex"},Ae={class:"q-pa-sm"},_e={class:"q-pa-sm",style:{width:"100%"}};function Se(s,t,d,e,i,m){const n=O("AdminCreditFormEdit"),f=O("AdminCreditFormAdd"),p=O("AdminCreditFormDelete");return S(),te("div",ye,[g("div",Ae,[l(c,{label:"Add Credit",color:"primary",onClick:t[0]||(t[0]=o=>e.showAddForm=!0)})]),l(R,{modelValue:e.showEditForm,"onUpdate:modelValue":t[1]||(t[1]=o=>e.showEditForm=o),persistent:"",maximize:"true"},{default:a(()=>[l(n,{propsEditData:e.propsEditData},null,8,["propsEditData"])]),_:1},8,["modelValue"]),l(R,{modelValue:e.showAddForm,"onUpdate:modelValue":t[2]||(t[2]=o=>e.showAddForm=o),persistent:""},{default:a(()=>[l(f)]),_:1},8,["modelValue"]),l(R,{modelValue:e.showDeleteForm,"onUpdate:modelValue":t[3]||(t[3]=o=>e.showDeleteForm=o),persistent:""},{default:a(()=>[l(p,{propsDeleteData:e.propsDeleteData},null,8,["propsDeleteData"])]),_:1},8,["modelValue"]),g("div",_e,[l(ne,{flat:"",bordered:"",ref:"tableRef",title:"Credit List",rows:e.rows,columns:e.columns,loading:e.loading,filter:e.filter,"row-key":"user",selection:"multiple",selected:e.selected,"onUpdate:selected":t[5]||(t[5]=o=>e.selected=o),onSelection:e.handleSelection},{top:a(()=>[l(c,{color:"negative",disable:e.loading,label:"Delete",onClick:e.deleteSelect},null,8,["disable","onClick"]),l(se),l(D,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[4]||(t[4]=o=>e.filter=o),placeholder:"Search"},{append:a(()=>[l(le,{name:"search"})]),_:1},8,["modelValue"])]),"header-selection":a(o=>[l(W,{modelValue:o.selected,"onUpdate:modelValue":u=>o.selected=u},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":a(o=>[l(W,{"model-value":o.selected,"onUpdate:modelValue":(u,b)=>{Object.getOwnPropertyDescriptor(o,"selected").set(u,b)}},null,8,["model-value","onUpdate:modelValue"])]),"body-cell-chatnumber":a(o=>[l(K,{props:o},{default:a(()=>[l(c,{unelevated:"",color:"primary",label:o.row.chatnumber,to:"message"},null,8,["label"])]),_:2},1032,["props"])]),"body-cell-action":a(o=>[l(K,{props:o},{default:a(()=>[l(c,{dense:"",round:"",flat:"",icon:"edit",onClick:u=>e.editRow(o.row),color:"primary",class:"q-ml-sm"},null,8,["onClick"]),l(c,{dense:"",round:"",flat:"",icon:"delete",onClick:u=>e.deleteRow(o.row),color:"negative",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter","selected","onSelection"])])])}const he=x(De,[["render",Se]]);export{he as default};
