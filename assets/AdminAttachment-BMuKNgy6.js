import{r as i,x as N,y as Q,z as n,B as l,L as w,C as h,Q as C,X as k,M as m,U as O,V as le,D as oe,k as z,K as q,J as ne,n as ae,W as se}from"./index-nM6x0V_9.js";import{Q as S,a as H,b as F,c as P,d as y,C as J,e as B,f as W,g as X,h as ie,i as re}from"./ClosePopup-DV86Kdmb.js";import{Q as j}from"./QInput-kvDFxS0E.js";import{Q as Z}from"./QFile-CtW7Ch3u.js";import{g as $,Q as ee}from"./QItem-Cv3fCkDt.js";import{Q as K}from"./QCard-ChLmSgGd.js";import{_}from"./_plugin-vue_export-helper-CtacDDMP.js";import"./selection-CMmYfeF9.js";const g=[];for(let s=0;s<1e5;s++)g.push("User"+s);console.log(g);const de=["Active","Inactive","Pending"],ue=["ID","Document"],me=["M","F"],ce={setup(){const s=i(g),t=i(""),d=i(""),e=i(""),r=i(""),c=i(0),a=i(""),V=i(""),A=i(""),o=i("");return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),y.emit("closeAddForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),y.emit("closeAddForm",!1,"cancel")},title:t,type:V,status:A,users:o,firstname:d,lastname:e,attachment:r,age:c,gender:a,genderOption:me,statusOption:de,usersOption:s,typeOption:i(ue),userFilterFn(f,v){setTimeout(()=>{v(()=>{if(f==="")s.value=g;else{const E=f.toLowerCase();s.value=g.filter(x=>x.toLowerCase().indexOf(E)>-1)}})},1500)},userAbortFilterFn(){}}}};function pe(s,t,d,e,r,c){return Q(),N(K,{style:{"min-width":"350px"}},{default:n(()=>[l(S,null,{default:n(()=>[...t[7]||(t[7]=[w("div",{class:"text-h6"},"Attachment",-1)])]),_:1}),l(H,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:n(()=>[l(S,{class:"q-pt-none"},{default:n(()=>[l(j,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=a=>e.title=a),"filled-input":"",label:"Title",type:"text"},null,8,["modelValue"]),l(F,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=a=>e.type=a),"hide-selected":"","use-input":"","fill-input":"",options:e.typeOption,label:"Type"},null,8,["modelValue","options"]),l(Z,{"filled-input":"","bottom-slots":"",modelValue:e.attachment,"onUpdate:modelValue":t[4]||(t[4]=a=>e.attachment=a),label:"File",counter:""},{prepend:n(()=>[l(C,{name:"cloud_upload",onClick:t[2]||(t[2]=k(()=>{},["stop","prevent"]))})]),append:n(()=>[l(C,{name:"close",onClick:t[3]||(t[3]=k(a=>e.attachment=null,["stop","prevent"])),class:"cursor-pointer"})]),hint:n(()=>[...t[8]||(t[8]=[h(" Field hint ",-1)])]),_:1},8,["modelValue"]),l(F,{modelValue:e.status,"onUpdate:modelValue":t[5]||(t[5]=a=>e.status=a),"hide-selected":"","use-input":"","fill-input":"",options:e.statusOption,label:"Status"},null,8,["modelValue","options"]),l(F,{modelValue:e.users,"onUpdate:modelValue":t[6]||(t[6]=a=>e.users=a),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Users",options:e.usersOption,onFilter:e.userFilterFn,onFilterAbort:e.userAbortFilterFn},{"no-option":n(()=>[l($,null,{default:n(()=>[l(ee,{class:"text-grey"},{default:n(()=>[...t[9]||(t[9]=[h(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),_:1}),l(P,{align:"right",class:"text-primary"},{default:n(()=>[l(m,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(m,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const fe=_(ce,[["render",pe]]),D=[];for(let s=0;s<1e5;s++)D.push("User"+s);console.log(D);const be=["Active","Inactive","Pending"],Fe=["ID","Document"],ye={props:{propsEditData:{type:Object,required:!1}},setup(s){const t=i(D),d=i(s.propsEditData.title),e=i(s.propsEditData.file),r=i(s.propsEditData.type),c=i(s.propsEditData.status),a=i(s.propsEditData.user);return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),y.emit("closeEditForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),y.emit("closeEditForm",!1,"cancel")},title:d,type:r,status:c,users:a,attachment:e,statusOption:be,usersOption:t,typeOption:i(Fe),userFilterFn(o,u){setTimeout(()=>{u(()=>{if(o==="")t.value=D;else{const p=o.toLowerCase();t.value=D.filter(f=>f.toLowerCase().indexOf(p)>-1)}})},1500)},userAbortFilterFn(){}}}};function Ve(s,t,d,e,r,c){return Q(),N(K,{style:{"min-width":"350px"}},{default:n(()=>[l(S,null,{default:n(()=>[...t[7]||(t[7]=[w("div",{class:"text-h6"},"Attachment",-1)])]),_:1}),l(H,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:n(()=>[l(S,{class:"q-pt-none"},{default:n(()=>[l(j,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=a=>e.title=a),"filled-input":"",label:"Title",type:"text"},null,8,["modelValue"]),l(F,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=a=>e.type=a),"hide-selected":"","use-input":"","fill-input":"",options:e.typeOption,label:"Type"},null,8,["modelValue","options"]),l(Z,{"filled-input":"","bottom-slots":"",modelValue:e.attachment,"onUpdate:modelValue":t[4]||(t[4]=a=>e.attachment=a),label:"File",counter:""},{prepend:n(()=>[l(C,{name:"cloud_upload",onClick:t[2]||(t[2]=k(()=>{},["stop","prevent"]))})]),append:n(()=>[l(C,{name:"close",onClick:t[3]||(t[3]=k(a=>e.attachment=null,["stop","prevent"])),class:"cursor-pointer"})]),hint:n(()=>[...t[8]||(t[8]=[h(" Field hint ",-1)])]),_:1},8,["modelValue"]),l(F,{modelValue:e.status,"onUpdate:modelValue":t[5]||(t[5]=a=>e.status=a),"hide-selected":"","use-input":"","fill-input":"",options:e.statusOption,label:"Status"},null,8,["modelValue","options"]),l(F,{modelValue:e.users,"onUpdate:modelValue":t[6]||(t[6]=a=>e.users=a),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Users",options:e.usersOption,onFilter:e.userFilterFn,onFilterAbort:e.userAbortFilterFn},{"no-option":n(()=>[l($,null,{default:n(()=>[l(ee,{class:"text-grey"},{default:n(()=>[...t[9]||(t[9]=[h(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),_:1}),l(P,{align:"right",class:"text-primary"},{default:n(()=>[l(m,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(m,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const Ae=_(ye,[["render",Ve]]),ve={props:{propsDeleteData:{type:Object,required:!1}},mounted(){},setup(){return{}}},ge={class:"q-ml-sm"};function De(s,t,d,e,r,c){return Q(),N(K,null,{default:n(()=>[l(S,{class:"row items-center"},{default:n(()=>[l(le,{icon:"cancel",color:"negative","text-color":"white"}),w("span",ge,"You are deleting Fullname: "+oe(d.propsDeleteData.title)+".",1)]),_:1}),l(P,{align:"right"},{default:n(()=>[z(l(m,{flat:"",label:"Cancel",color:"primary"},null,512),[[J]]),z(l(m,{flat:"",label:"Delete",color:"negative"},null,512),[[J]])]),_:1})]),_:1})}const we=_(ve,[["render",De]]),Ce=[{name:"title",label:"Title",field:"title",sortable:!0},{name:"type",label:"Type",field:"type",sortable:!0},{name:"file",label:"File",field:"file",sortable:!0},{name:"status",label:"Status",field:"status",sortable:!0},{name:"user",label:"User",field:"user",sortable:!0},{name:"createddate",label:"Created Date",field:"createddate",sortable:!0},{name:"updateddate",label:"Updated Date",field:"updateddate",sortable:!0},{name:"action",label:"Action",field:"action",sortable:!0}],Se=[{title:"National ID",type:"ID",file:"./national_id.jpg",status:"Active",user:"User1",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{title:"Birth Certificate",type:"ID",file:"./birth_cerficate.pdf",status:"Inactive",user:"User1",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{title:"Bill",type:"Document",file:"./bill.pdf",status:"Pending",user:"User1",createddate:"2026/01/08",updateddate:"2026/01/04",action:""}],Y=i(!1),L=i(!1),G=i(!1),xe=i(null),Ue={components:{AdminAttachmentFormDelete:we,AdminAttachmentFormAdd:fe,AdminAttachmentFormEdit:Ae},mounted(){y.on("closeEditForm",(s,t)=>{L.value=s,console.log("Event Bus",s)}),y.on("closeAddForm",(s,t)=>{Y.value=s,console.log("Event Bus",s)})},setup(){const s=i(!1),t=i(),d=i([]),e=i(""),r=i({}),c=i({});let a;return{deleteSelect:xe,showAddForm:Y,showEditForm:L,showDeleteForm:G,propsEditData:r,propsDeleteData:c,editRow:o=>{r.value.title=o.title,r.value.type=o.type,r.value.file=o.file,r.value.status=o.status,r.value.user=o.user,L.value=!0},deleteRow:o=>{c.value.title=o.title,G.value=!0},loading:s,tableRef:t,selected:d,columns:Ce,rows:Se,filter:e,handleSelection({rows:o,added:u,evt:p}){if(o.length!==1||p===void 0)return;const f=a,[v]=o,{ctrlKey:E,shiftKey:x,metaKey:te}=p;x!==!0&&(a=v),ae(()=>{if(x===!0){const R=t.value.filteredSortedRows;let b=R.indexOf(f),U=R.indexOf(v);b<0&&(b=0),b>U&&([b,U]=[U,b]);const M=R.slice(b,U+1),I=d.value.map(se);d.value=u===!0?I.concat(M.filter(T=>I.includes(T)===!1)):I.filter(T=>M.includes(T)===!1)}else(E||te)!==!0&&u===!0&&(d.value=[v])})}}}},he={class:"flex"},ke={class:"q-pa-sm"},Oe={class:"q-pa-sm",style:{width:"100%"}};function Qe(s,t,d,e,r,c){const a=q("AdminAttachmentFormEdit"),V=q("AdminAttachmentFormAdd"),A=q("AdminAttachmentFormDelete");return Q(),ne("div",he,[w("div",ke,[l(m,{label:"Add Attachment",color:"primary",onClick:t[0]||(t[0]=o=>e.showAddForm=!0)})]),l(B,{modelValue:e.showEditForm,"onUpdate:modelValue":t[1]||(t[1]=o=>e.showEditForm=o),persistent:"",maximize:"true"},{default:n(()=>[l(a,{propsEditData:e.propsEditData},null,8,["propsEditData"])]),_:1},8,["modelValue"]),l(B,{modelValue:e.showAddForm,"onUpdate:modelValue":t[2]||(t[2]=o=>e.showAddForm=o),persistent:""},{default:n(()=>[l(V)]),_:1},8,["modelValue"]),l(B,{modelValue:e.showDeleteForm,"onUpdate:modelValue":t[3]||(t[3]=o=>e.showDeleteForm=o),persistent:""},{default:n(()=>[l(A,{propsDeleteData:e.propsDeleteData},null,8,["propsDeleteData"])]),_:1},8,["modelValue"]),w("div",Oe,[l(re,{flat:"",bordered:"",ref:"tableRef",title:"Attachment List",rows:e.rows,columns:e.columns,loading:e.loading,filter:e.filter,"row-key":"title",selection:"multiple",selected:e.selected,"onUpdate:selected":t[5]||(t[5]=o=>e.selected=o),onSelection:e.handleSelection},{top:n(()=>[l(m,{color:"negative",disable:e.loading,label:"Delete",onClick:e.deleteSelect},null,8,["disable","onClick"]),l(ie),l(j,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[4]||(t[4]=o=>e.filter=o),placeholder:"Search"},{append:n(()=>[l(C,{name:"search"})]),_:1},8,["modelValue"])]),"header-selection":n(o=>[l(X,{modelValue:o.selected,"onUpdate:modelValue":u=>o.selected=u},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":n(o=>[l(X,{"model-value":o.selected,"onUpdate:modelValue":(u,p)=>{Object.getOwnPropertyDescriptor(o,"selected").set(u,p)}},null,8,["model-value","onUpdate:modelValue"])]),"body-cell-chatnumber":n(o=>[l(W,{props:o},{default:n(()=>[l(m,{unelevated:"",color:"primary",label:o.row.chatnumber,to:"message"},null,8,["label"])]),_:2},1032,["props"])]),"body-cell-action":n(o=>[l(W,{props:o},{default:n(()=>[l(m,{dense:"",round:"",flat:"",icon:"edit",onClick:u=>e.editRow(o.row),color:"primary",class:"q-ml-sm"},null,8,["onClick"]),l(m,{dense:"",round:"",flat:"",icon:"delete",onClick:u=>e.deleteRow(o.row),color:"negative",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter","selected","onSelection"])])])}const Ne=_(Ue,[["render",Qe]]);export{Ne as default};
