import{r as i,x as E,y as _,z as a,B as l,L as w,C as K,M as c,U as O,V as Z,D as $,k as L,K as U,J as ee,Q as te,n as le,W as oe}from"./index-c8sYgGQD.js";import{Q as S,a as z,b as h,c as Q,d as R,e as y,C as N,f as B,g as P,h as W,i as ae,j as ne}from"./ClosePopup-D8QCymym.js";import{Q as se}from"./QInput-WTbP_YvM.js";import{g as J,Q as M}from"./QItem-Dvy-o2h5.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./selection-ssNYYuIN.js";const C=[];for(let n=0;n<1e5;n++)C.push("User"+n);console.log(C);const ie=["Open","Close"],re=["TOP-UP","HOW TOs"],de={setup(){const n=i(C),t=i(""),r=i(""),e=i("");return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),y.emit("closeAddForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),y.emit("closeAddForm",!1,"cancel")},inquiry:t,chatStatus:r,chatBy:e,chatStatusOption:ie,chatByOption:n,inquiryOption:i(re),filterFn(s,p){setTimeout(()=>{p(()=>{if(s==="")n.value=C;else{const f=s.toLowerCase();n.value=C.filter(o=>o.toLowerCase().indexOf(f)>-1)}})},1500)},abortFilterFn(){}}}};function ce(n,t,r,e,d,m){return _(),E(R,{style:{"min-width":"350px"}},{default:a(()=>[l(S,null,{default:a(()=>[...t[3]||(t[3]=[w("div",{class:"text-h6"},"Chat",-1)])]),_:1}),l(z,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:a(()=>[l(S,{class:"q-pt-none"},{default:a(()=>[l(h,{modelValue:e.inquiry,"onUpdate:modelValue":t[0]||(t[0]=s=>e.inquiry=s),"hide-selected":"","use-input":"","fill-input":"",options:e.inquiryOption,label:"Inquiry"},null,8,["modelValue","options"]),l(h,{modelValue:e.chatStatus,"onUpdate:modelValue":t[1]||(t[1]=s=>e.chatStatus=s),"hide-selected":"","use-input":"","fill-input":"",options:e.chatStatusOption,label:"Chat Status"},null,8,["modelValue","options"]),l(h,{modelValue:e.chatBy,"onUpdate:modelValue":t[2]||(t[2]=s=>e.chatBy=s),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Chat By",options:e.chatByOption,onFilter:e.filterFn,onFilterAbort:e.abortFilterFn},{"no-option":a(()=>[l(J,null,{default:a(()=>[l(M,{class:"text-grey"},{default:a(()=>[...t[4]||(t[4]=[K(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),_:1}),l(Q,{align:"right",class:"text-primary"},{default:a(()=>[l(c,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(c,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const ue=v(de,[["render",ce]]),F=[];for(let n=0;n<1e5;n++)F.push("User"+n);console.log(F);const me=["Open","Close"],pe=["TOP-UP","HOW TOs"],fe={props:{propsEditData:{type:Object,required:!1}},setup(n){const t=i(F),r=i(n.propsEditData.inquiry),e=i(n.propsEditData.chatstatus),d=i(n.propsEditData.chatby);return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),y.emit("closeEditForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),y.emit("closeEditForm",!1,"cancel")},inquiry:r,chatStatus:e,chatBy:d,chatStatusOption:me,chatByOption:t,inquiryOption:i(pe),filterFn(p,f){setTimeout(()=>{f(()=>{if(p==="")t.value=F;else{const o=p.toLowerCase();t.value=F.filter(u=>u.toLowerCase().indexOf(o)>-1)}})},1500)},abortFilterFn(){}}}};function be(n,t,r,e,d,m){return _(),E(R,{style:{"min-width":"350px"}},{default:a(()=>[l(S,null,{default:a(()=>[...t[3]||(t[3]=[w("div",{class:"text-h6"},"Chat",-1)])]),_:1}),l(z,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:a(()=>[l(S,{class:"q-pt-none"},{default:a(()=>[l(h,{modelValue:e.inquiry,"onUpdate:modelValue":t[0]||(t[0]=s=>e.inquiry=s),"hide-selected":"","use-input":"","fill-input":"",options:e.inquiryOption,label:"Inquiry"},null,8,["modelValue","options"]),l(h,{modelValue:e.chatStatus,"onUpdate:modelValue":t[1]||(t[1]=s=>e.chatStatus=s),"hide-selected":"","use-input":"","fill-input":"",options:e.chatStatusOption,label:"Chat Status"},null,8,["modelValue","options"]),l(h,{modelValue:e.chatBy,"onUpdate:modelValue":t[2]||(t[2]=s=>e.chatBy=s),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",label:"Chat By",options:e.chatByOption,onFilter:e.filterFn,onFilterAbort:e.abortFilterFn},{"no-option":a(()=>[l(J,null,{default:a(()=>[l(M,{class:"text-grey"},{default:a(()=>[...t[4]||(t[4]=[K(" No results ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort"])]),_:1}),l(Q,{align:"right",class:"text-primary"},{default:a(()=>[l(c,{flat:"",label:"Cancel",onClick:e.onCancel},null,8,["onClick"]),l(c,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const he=v(fe,[["render",be]]),ye={props:{propsDeleteData:{type:Object,required:!1}},mounted(){},setup(){return{}}},Ce={class:"q-ml-sm"};function Fe(n,t,r,e,d,m){return _(),E(R,null,{default:a(()=>[l(S,{class:"row items-center"},{default:a(()=>[l(Z,{icon:"cancel",color:"negative","text-color":"white"}),w("span",Ce,"You are deleting Chat Number: "+$(r.propsDeleteData.chatnumber)+".",1)]),_:1}),l(Q,{align:"right"},{default:a(()=>[L(l(c,{flat:"",label:"Cancel",color:"primary"},null,512),[[N]]),L(l(c,{flat:"",label:"Delete",color:"negative"},null,512),[[N]])]),_:1})]),_:1})}const we=v(ye,[["render",Fe]]),Se=[{name:"chatnumber",align:"center",label:"Chat Number",field:"chatnumber",sortable:!0},{name:"inquiry",label:"Inquiry",field:"inquiry",sortable:!0},{name:"chatstatus",label:"Chat Status",field:"chatstatus",sortable:!0},{name:"chatby",label:"Chat By",field:"chatby",sortable:!0},{name:"createddate",label:"Created Date",field:"createddate",sortable:!0},{name:"updateddate",label:"Updated Date",field:"updateddate",sortable:!0},{name:"action",label:"Action",field:"action",sortable:!0}],Ve=[{chatnumber:"0000000001",inquiry:"TOP-UP",chatstatus:"Open",chatby:"User1",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{chatnumber:"0000000002",inquiry:"HOW TO's",chatstatus:"Close",chatby:"User2",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{chatnumber:"0000000003",inquiry:"HOW TO's",chatstatus:"Close",chatby:"User2",createddate:"2026/01/08",updateddate:"2026/01/04",action:""}],j=i(!1),k=i(!1),H=i(!1),ge=i(null),Oe={components:{AdminChatFormDelete:we,AdminChatFormAdd:ue,AdminChatFormEdit:he},mounted(){y.on("closeEditForm",(n,t)=>{k.value=n,console.log("Event Bus",n)}),y.on("closeAddForm",(n,t)=>{j.value=n,console.log("Event Bus",n)})},setup(){const n=i(!1),t=i(),r=i([]),e=i(""),d=i({}),m=i({});let s;return{deleteSelect:ge,showAddForm:j,showEditForm:k,showDeleteForm:H,propsEditData:d,propsDeleteData:m,editRow:o=>{d.value.chatnumber=o.chatnumber,d.value.inquiry=o.inquiry,d.value.chatby=o.chatby,d.value.chatstatus=o.chatstatus,k.value=!0},deleteRow:o=>{m.value.chatnumber=o.chatnumber,H.value=!0},loading:n,tableRef:t,selected:r,columns:Se,rows:Ve,filter:e,handleSelection({rows:o,added:u,evt:V}){if(o.length!==1||V===void 0)return;const Y=s,[D]=o,{ctrlKey:G,shiftKey:T,metaKey:X}=V;T!==!0&&(s=D),le(()=>{if(T===!0){const q=t.value.filteredSortedRows;let b=q.indexOf(Y),g=q.indexOf(D);b<0&&(b=0),b>g&&([b,g]=[g,b]);const I=q.slice(b,g+1),x=r.value.map(oe);r.value=u===!0?x.concat(I.filter(A=>x.includes(A)===!1)):x.filter(A=>I.includes(A)===!1)}else(G||X)!==!0&&u===!0&&(r.value=[D])})}}}},_e={class:"flex"},ve={class:"q-pa-sm"},De={class:"q-pa-sm",style:{width:"100%"}};function qe(n,t,r,e,d,m){const s=U("AdminChatFormEdit"),p=U("AdminChatFormAdd"),f=U("AdminChatFormDelete");return _(),ee("div",_e,[w("div",ve,[l(c,{label:"Add Chat",color:"primary",onClick:t[0]||(t[0]=o=>e.showAddForm=!0)})]),l(B,{modelValue:e.showEditForm,"onUpdate:modelValue":t[1]||(t[1]=o=>e.showEditForm=o),persistent:"",maximize:"true"},{default:a(()=>[l(s,{propsEditData:e.propsEditData},null,8,["propsEditData"])]),_:1},8,["modelValue"]),l(B,{modelValue:e.showAddForm,"onUpdate:modelValue":t[2]||(t[2]=o=>e.showAddForm=o),persistent:""},{default:a(()=>[l(p)]),_:1},8,["modelValue"]),l(B,{modelValue:e.showDeleteForm,"onUpdate:modelValue":t[3]||(t[3]=o=>e.showDeleteForm=o),persistent:""},{default:a(()=>[l(f,{propsDeleteData:e.propsDeleteData},null,8,["propsDeleteData"])]),_:1},8,["modelValue"]),w("div",De,[l(ne,{flat:"",bordered:"",ref:"tableRef",title:"Chat List",rows:e.rows,columns:e.columns,loading:e.loading,filter:e.filter,"row-key":"chatnumber",selection:"multiple",selected:e.selected,"onUpdate:selected":t[5]||(t[5]=o=>e.selected=o),onSelection:e.handleSelection},{top:a(()=>[l(c,{color:"negative",disable:e.loading,label:"Delete",onClick:e.deleteSelect},null,8,["disable","onClick"]),l(ae),l(se,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[4]||(t[4]=o=>e.filter=o),placeholder:"Search"},{append:a(()=>[l(te,{name:"search"})]),_:1},8,["modelValue"])]),"header-selection":a(o=>[l(W,{modelValue:o.selected,"onUpdate:modelValue":u=>o.selected=u},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":a(o=>[l(W,{"model-value":o.selected,"onUpdate:modelValue":(u,V)=>{Object.getOwnPropertyDescriptor(o,"selected").set(u,V)}},null,8,["model-value","onUpdate:modelValue"])]),"body-cell-chatnumber":a(o=>[l(P,{props:o},{default:a(()=>[l(c,{unelevated:"",color:"primary",label:o.row.chatnumber,to:"message"},null,8,["label"])]),_:2},1032,["props"])]),"body-cell-action":a(o=>[l(P,{props:o},{default:a(()=>[l(c,{dense:"",round:"",flat:"",icon:"edit",onClick:u=>e.editRow(o.row),color:"primary",class:"q-ml-sm"},null,8,["onClick"]),l(c,{dense:"",round:"",flat:"",icon:"delete",onClick:u=>e.deleteRow(o.row),color:"negative",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter","selected","onSelection"])])])}const Qe=v(Oe,[["render",qe]]);export{Qe as default};
