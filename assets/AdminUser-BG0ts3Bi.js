import{r as s,x as P,y as Q,z as d,B as l,L as A,C as H,Q as x,X as E,M as u,U as O,V as ee,D as te,k as K,K as L,J as le,n as oe,W as ae}from"./index-nM6x0V_9.js";import{Q as k,a as Z,b as h,c as I,d as F,C as G,e as _,f as J,g as W,h as ne,i as se}from"./ClosePopup-DV86Kdmb.js";import{Q as p}from"./QInput-kvDFxS0E.js";import{Q as $}from"./QFile-CtW7Ch3u.js";import{Q as T}from"./QCard-ChLmSgGd.js";import{_ as R}from"./_plugin-vue_export-helper-CtacDDMP.js";import"./QItem-Cv3fCkDt.js";import"./selection-CMmYfeF9.js";const U=[];for(let n=0;n<1e5;n++)U.push("User"+n);console.log(U);const de=["Active","Inactive","Pending"],ie=["Agent","User","Admin"],re=["M","F"],me={setup(){const n=s(U),e=s(""),r=s(""),t=s(""),i=s(""),c=s(0),a=s(""),b=s(""),g=s(""),o=s("");return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeAddForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeAddForm",!1,"cancel")},type:b,status:g,users:o,codename:e,firstname:r,lastname:t,attachment:i,age:c,gender:a,genderOption:re,statusOption:de,usersOption:n,typeOption:s(ie),userFilterFn(C,f){setTimeout(()=>{f(()=>{if(C==="")n.value=U;else{const w=C.toLowerCase();n.value=U.filter(v=>v.toLowerCase().indexOf(w)>-1)}})},1500)},userAbortFilterFn(){}}}};function ue(n,e,r,t,i,c){return Q(),P(T,{style:{"min-width":"350px"}},{default:d(()=>[l(k,null,{default:d(()=>[...e[9]||(e[9]=[A("div",{class:"text-h6"},"User",-1)])]),_:1}),l(Z,{onSubmit:t.onSubmit,class:"q-gutter-md"},{default:d(()=>[l(k,{class:"q-pt-none"},{default:d(()=>[l(p,{modelValue:t.codename,"onUpdate:modelValue":e[0]||(e[0]=a=>t.codename=a),"filled-input":"",label:"Code Name",type:"text"},null,8,["modelValue"]),l($,{"filled-input":"","bottom-slots":"",modelValue:t.attachment,"onUpdate:modelValue":e[3]||(e[3]=a=>t.attachment=a),label:"Message Photo",counter:""},{prepend:d(()=>[l(x,{name:"cloud_upload",onClick:e[1]||(e[1]=E(()=>{},["stop","prevent"]))})]),append:d(()=>[l(x,{name:"close",onClick:e[2]||(e[2]=E(a=>t.attachment=null,["stop","prevent"])),class:"cursor-pointer"})]),hint:d(()=>[...e[10]||(e[10]=[H(" Field hint ",-1)])]),_:1},8,["modelValue"]),l(p,{modelValue:t.firstname,"onUpdate:modelValue":e[4]||(e[4]=a=>t.firstname=a),"filled-input":"",label:"First Name",type:"text"},null,8,["modelValue"]),l(p,{modelValue:t.lastname,"onUpdate:modelValue":e[5]||(e[5]=a=>t.lastname=a),"filled-input":"",label:"Last Name",type:"text"},null,8,["modelValue"]),l(p,{modelValue:t.age,"onUpdate:modelValue":e[6]||(e[6]=a=>t.age=a),"filled-input":"",label:"Age",type:"number"},null,8,["modelValue"]),l(h,{modelValue:t.gender,"onUpdate:modelValue":e[7]||(e[7]=a=>t.gender=a),"hide-selected":"","use-input":"","fill-input":"",options:t.genderOption,label:"Gender"},null,8,["modelValue","options"]),l(h,{modelValue:t.status,"onUpdate:modelValue":e[8]||(e[8]=a=>t.status=a),"hide-selected":"","use-input":"","fill-input":"",options:t.statusOption,label:"Status"},null,8,["modelValue","options"])]),_:1}),l(I,{align:"right",class:"text-primary"},{default:d(()=>[l(u,{flat:"",label:"Cancel",onClick:t.onCancel},null,8,["onClick"]),l(u,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const ce=R(me,[["render",ue]]),D=[];for(let n=0;n<1e5;n++)D.push("User"+n);console.log(D);const pe=["Active","Inactive","Pending"],fe=["Agent","User","Admin"],be=["M","F"],ge={props:{propsEditData:{type:Object,required:!1}},setup(n){const e=s(D),r=s(n.propsEditData.codename),t=s(n.propsEditData.firstname),i=s(n.propsEditData.lastname),c=s(n.propsEditData.attachment),a=s(n.propsEditData.age),b=s(n.propsEditData.gender),g=s(n.propsEditData.type),o=s(n.propsEditData.status),m=s(n.propsEditData.codename);return{onSubmit:()=>{O.create({message:"Form submitted successfully!",color:"green-4",icon:"check_circle",position:"top"}),F.emit("closeEditForm",!1,"submit")},onCancel:()=>{O.create({message:"Form was cancelled!",color:"red-4",icon:"cancel",position:"top"}),F.emit("closeEditForm",!1,"cancel")},type:g,status:o,users:m,codename:r,firstname:t,lastname:i,attachment:c,age:a,gender:b,genderOption:be,statusOption:pe,usersOption:e,typeOption:s(fe),userFilterFn(f,w){setTimeout(()=>{w(()=>{if(f==="")e.value=D;else{const v=f.toLowerCase();e.value=D.filter(N=>N.toLowerCase().indexOf(v)>-1)}})},1500)},userAbortFilterFn(){}}}};function Ve(n,e,r,t,i,c){return Q(),P(T,{style:{"min-width":"350px"}},{default:d(()=>[l(k,null,{default:d(()=>[...e[9]||(e[9]=[A("div",{class:"text-h6"},"User",-1)])]),_:1}),l(Z,{onSubmit:t.onSubmit,class:"q-gutter-md"},{default:d(()=>[l(k,{class:"q-pt-none"},{default:d(()=>[l(p,{modelValue:t.codename,"onUpdate:modelValue":e[0]||(e[0]=a=>t.codename=a),"filled-input":"",label:"Code Name",type:"text"},null,8,["modelValue"]),l($,{"filled-input":"","bottom-slots":"",modelValue:t.attachment,"onUpdate:modelValue":e[3]||(e[3]=a=>t.attachment=a),label:"Message Photo",counter:""},{prepend:d(()=>[l(x,{name:"cloud_upload",onClick:e[1]||(e[1]=E(()=>{},["stop","prevent"]))})]),append:d(()=>[l(x,{name:"close",onClick:e[2]||(e[2]=E(a=>t.attachment=null,["stop","prevent"])),class:"cursor-pointer"})]),hint:d(()=>[...e[10]||(e[10]=[H(" Field hint ",-1)])]),_:1},8,["modelValue"]),l(p,{modelValue:t.firstname,"onUpdate:modelValue":e[4]||(e[4]=a=>t.firstname=a),"filled-input":"",label:"First Name",type:"text"},null,8,["modelValue"]),l(p,{modelValue:t.lastname,"onUpdate:modelValue":e[5]||(e[5]=a=>t.lastname=a),"filled-input":"",label:"Last Name",type:"text"},null,8,["modelValue"]),l(p,{modelValue:t.age,"onUpdate:modelValue":e[6]||(e[6]=a=>t.age=a),"filled-input":"",label:"Age",type:"number"},null,8,["modelValue"]),l(h,{modelValue:t.gender,"onUpdate:modelValue":e[7]||(e[7]=a=>t.gender=a),"hide-selected":"","use-input":"","fill-input":"",options:t.genderOption,label:"Gender"},null,8,["modelValue","options"]),l(h,{modelValue:t.status,"onUpdate:modelValue":e[8]||(e[8]=a=>t.status=a),"hide-selected":"","use-input":"","fill-input":"",options:t.statusOption,label:"Status"},null,8,["modelValue","options"])]),_:1}),l(I,{align:"right",class:"text-primary"},{default:d(()=>[l(u,{flat:"",label:"Cancel",onClick:t.onCancel},null,8,["onClick"]),l(u,{flat:"",label:"Submit",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const ve=R(ge,[["render",Ve]]),ye={props:{propsDeleteData:{type:Object,required:!1}},mounted(){},setup(){return{}}},Fe={class:"q-ml-sm"};function Ce(n,e,r,t,i,c){return Q(),P(T,null,{default:d(()=>[l(k,{class:"row items-center"},{default:d(()=>[l(ee,{icon:"cancel",color:"negative","text-color":"white"}),A("span",Fe,"You are deleting Code Name: "+te(r.propsDeleteData.codename)+".",1)]),_:1}),l(I,{align:"right"},{default:d(()=>[K(l(u,{flat:"",label:"Cancel",color:"primary"},null,512),[[G]]),K(l(u,{flat:"",label:"Delete",color:"negative"},null,512),[[G]])]),_:1})]),_:1})}const we=R(ye,[["render",Ce]]),Ue=[{name:"codename",label:"Code Name",field:"codename",sortable:!0},{name:"photo",label:"Photo",field:"photo",sortable:!0},{name:"firstname",label:"First Name",field:"firstname",sortable:!0},{name:"lastname",label:"Last Name",field:"lastname",sortable:!0},{name:"age",label:"Age",field:"age",sortable:!0},{name:"gender",label:"Gender",field:"gender",sortable:!0},{name:"status",label:"Status",field:"status",sortable:!0},{name:"createddate",label:"Created Date",field:"createddate",sortable:!0},{name:"updateddate",label:"Updated Date",field:"updateddate",sortable:!0},{name:"action",label:"Action",field:"action",sortable:!0}],De=[{codename:"kwelyo34",photo:"./photo.jpg",firstname:"Mike",lastname:"Cruz",age:"25",gender:"M",status:"Active",joindate:"2026/01/08",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{codename:"kwelyo35",photo:"./photo.jpg",firstname:"Mike",lastname:"Cruz",age:"25",gender:"M",status:"Active",joindate:"2026/01/08",createddate:"2026/01/08",updateddate:"2026/01/04",action:""},{codename:"kwelyo36",photo:"./photo.jpg",firstname:"Mike",lastname:"Cruz",age:"25",gender:"M",status:"Active",joindate:"2026/01/08",createddate:"2026/01/08",updateddate:"2026/01/04",action:""}],X=s(!1),B=s(!1),Y=s(!1),Ae=s(null),xe={components:{AdminUserFormDelete:we,AdminUserFormAdd:ce,AdminUserFormEdit:ve},mounted(){F.on("closeEditForm",(n,e)=>{B.value=n,console.log("Event Bus",n)}),F.on("closeAddForm",(n,e)=>{X.value=n,console.log("Event Bus",n)})},setup(){const n=s(!1),e=s(),r=s([]),t=s(""),i=s({}),c=s({});let a;return{deleteSelect:Ae,showAddForm:X,showEditForm:B,showDeleteForm:Y,propsEditData:i,propsDeleteData:c,editRow:o=>{i.value.codename=o.codename,i.value.photo=o.photo,i.value.firstname=o.firstname,i.value.lastname=o.lastname,i.value.age=o.age,i.value.gender=o.gender,i.value.status=o.status,i.value.joindate=o.joindate,B.value=!0},deleteRow:o=>{c.value.codename=o.codename,Y.value=!0},loading:n,tableRef:e,selected:r,columns:Ue,rows:De,filter:t,handleSelection({rows:o,added:m,evt:V}){if(o.length!==1||V===void 0)return;const C=a,[f]=o,{ctrlKey:w,shiftKey:v,metaKey:N}=V;v!==!0&&(a=f),oe(()=>{if(v===!0){const M=e.value.filteredSortedRows;let y=M.indexOf(C),S=M.indexOf(f);y<0&&(y=0),y>S&&([y,S]=[S,y]);const z=M.slice(y,S+1),j=r.value.map(ae);r.value=m===!0?j.concat(z.filter(q=>j.includes(q)===!1)):j.filter(q=>z.includes(q)===!1)}else(w||N)!==!0&&m===!0&&(r.value=[f])})}}}},ke={class:"flex"},Se={class:"q-pa-sm"},Ee={class:"q-pa-sm",style:{width:"100%"}};function Oe(n,e,r,t,i,c){const a=L("AdminUserFormEdit"),b=L("AdminUserFormAdd"),g=L("AdminUserFormDelete");return Q(),le("div",ke,[A("div",Se,[l(u,{label:"Add User",color:"primary",onClick:e[0]||(e[0]=o=>t.showAddForm=!0)})]),l(_,{modelValue:t.showEditForm,"onUpdate:modelValue":e[1]||(e[1]=o=>t.showEditForm=o),persistent:"",maximize:"true"},{default:d(()=>[l(a,{propsEditData:t.propsEditData},null,8,["propsEditData"])]),_:1},8,["modelValue"]),l(_,{modelValue:t.showAddForm,"onUpdate:modelValue":e[2]||(e[2]=o=>t.showAddForm=o),persistent:""},{default:d(()=>[l(b)]),_:1},8,["modelValue"]),l(_,{modelValue:t.showDeleteForm,"onUpdate:modelValue":e[3]||(e[3]=o=>t.showDeleteForm=o),persistent:""},{default:d(()=>[l(g,{propsDeleteData:t.propsDeleteData},null,8,["propsDeleteData"])]),_:1},8,["modelValue"]),A("div",Ee,[l(se,{flat:"",bordered:"",ref:"tableRef",title:"User List",rows:t.rows,columns:t.columns,loading:t.loading,filter:t.filter,"row-key":"codename",selection:"multiple",selected:t.selected,"onUpdate:selected":e[5]||(e[5]=o=>t.selected=o),onSelection:t.handleSelection},{top:d(()=>[l(u,{color:"negative",disable:t.loading,label:"Delete",onClick:t.deleteSelect},null,8,["disable","onClick"]),l(ne),l(p,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:t.filter,"onUpdate:modelValue":e[4]||(e[4]=o=>t.filter=o),placeholder:"Search"},{append:d(()=>[l(x,{name:"search"})]),_:1},8,["modelValue"])]),"header-selection":d(o=>[l(W,{modelValue:o.selected,"onUpdate:modelValue":m=>o.selected=m},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":d(o=>[l(W,{"model-value":o.selected,"onUpdate:modelValue":(m,V)=>{Object.getOwnPropertyDescriptor(o,"selected").set(m,V)}},null,8,["model-value","onUpdate:modelValue"])]),"body-cell-chatnumber":d(o=>[l(J,{props:o},{default:d(()=>[l(u,{unelevated:"",color:"primary",label:o.row.chatnumber,to:"message"},null,8,["label"])]),_:2},1032,["props"])]),"body-cell-action":d(o=>[l(J,{props:o},{default:d(()=>[l(u,{dense:"",round:"",flat:"",icon:"edit",onClick:m=>t.editRow(o.row),color:"primary",class:"q-ml-sm"},null,8,["onClick"]),l(u,{dense:"",round:"",flat:"",icon:"delete",onClick:m=>t.deleteRow(o.row),color:"negative",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter","selected","onSelection"])])])}const _e=R(xe,[["render",Oe]]);export{_e as default};
